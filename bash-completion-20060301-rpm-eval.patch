diff -up bash_completion/bash_completion~ bash_completion/bash_completion
--- bash_completion/bash_completion~	2006-03-01 18:20:18.000000000 +0200
+++ bash_completion/bash_completion	2008-09-07 12:34:55.000000000 +0300
@@ -1809,7 +1809,7 @@ _rpm()
 			--import' -- $cur ) )
 			;;
 		*)
-			COMPREPLY=( $( compgen -W '-b -e -F -i -q -t -U -V' \
+			COMPREPLY=( $( compgen -W '-b -e -E -F -i -q -t -U -V' \
 				       -- $cur ) )
 			;;
 		esac
@@ -1822,10 +1822,10 @@ _rpm()
 		_filedir -d
 		return 0
 		;;
-	--eval)
+	--eval|-E)
 		# get a list of macros
 		COMPREPLY=( $( sed -ne 's|^\(%'${cur#\%}'[^ '$'\t'']*\).*$|\1|p' \
-			       /usr/lib/rpm/macros ) )
+			       /usr/lib/rpm/macros /usr/lib/rpm/redhat/macros /etc/rpm/*macros ~/.rpmmacros ) )
 		return 0
 		;;
 	--pipe)
